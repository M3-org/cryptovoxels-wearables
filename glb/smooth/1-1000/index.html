<html>
<head>
    <meta charset="UTF-8">
    <title>GLB Viewer</title>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>
<body>
<model-viewer id="toggle-model" src="1.glb" alt="The Golden Sword" shadow-intensity="1" camera-controls touch-action="pan-y" auto-rotate style="width: 100%; height: 100%;"></model-viewer>
<script>
const toggleModel = document.querySelector('#toggle-model');

const showRandomGLB = async () => {
    // grab a random number between 1 and 1000
    const random = Math.trunc(Math.random()*1000) + 1;
    // set the src attribute to the new random glb
    toggleModel.setAttribute('src', `${random}.glb`)
    // call non blocking sleep function
    await sleep(2000);
    // continue the cycle
    showRandomGLB()
}

// non blocking sleep function
const sleep = (ms) => {
    return new Promise(resolve => setTimeout(resolve, ms));
}

// Start the cycle
showRandomGLB()
</script>
</body>
</html>
